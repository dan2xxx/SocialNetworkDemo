{"version":3,"sources":["components/Header/Login/LoginPage.module.css","hoc/withLoginRedirect.js","components/Header/Login/LoginPage.js"],"names":["module","exports","mapStateToPropsRedirect","state","myId","loginForm","id","withLoginRedirect","Component","connect","props","to","LoginForm","onSubmit","render","handleSubmit","className","classes","form_control","name","validate","required","input","meta","type","placeholder","error","touched","error_input","component","errorLog","LoginPageContainer","compose","loginInProgress","isFetched","loginThunk","logInThunkCreator","console","log","LoaderProcess","data"],"mappings":"wGACAA,EAAOC,QAAU,CAAC,MAAQ,yBAAyB,YAAc,+BAA+B,MAAQ,2B,sGCGlGC,EAA0B,SAACC,GAC7B,MAAQ,CACJC,KAAMD,EAAME,UAAUC,KA8BfC,EAvBW,SAACC,GAkBvB,OAFiCC,YAAQP,EAAwB,GAAhCO,EAbP,SAACC,GAEvB,OAAIA,EAAMN,KACC,cAAC,IAAD,CAAUO,GAAI,YAAcD,EAAMN,OAIzC,cAACI,EAAD,eAAeE,Q,iCCZrBE,EAAY,SAACF,GAIf,OACI,8BAOI,cAAC,IAAD,CACIG,SAAUH,EAAMG,SAChBC,OAAQ,gBAAGC,EAAH,EAAGA,aAAH,OAGJ,uBAAMF,SAAUE,EAAhB,UAEI,yCACA,8BACI,cAAC,IAAD,CAAOC,UAAWC,IAAQC,aAAcC,KAAK,QAAQC,SAAUC,IAA/D,SACK,gBAAGC,EAAH,EAAGA,MAAOC,EAAV,EAAUA,KAAV,OACG,gCAEI,iDAAWD,GAAX,IAAkBE,KAAK,OAAOC,YAAY,QAAQT,UAAWO,EAAKG,OAASH,EAAKI,QAAUV,IAAQW,YAAcX,IAAQK,SACvHC,EAAKG,OAASH,EAAKI,SAAW,sBAAMX,UAAWC,IAAQS,MAAzB,SAAiCH,EAAKG,gBASrF,8BACI,cAAC,IAAD,CAAOP,KAAK,WAAYC,SAAUC,IAAlC,SACC,gBAAGC,EAAH,EAAGA,MAAOC,EAAV,EAAUA,KAAV,OACO,gCACI,iDAAWD,GAAX,IAAkBG,YAAY,WAAWD,KAAK,WAAWR,UAAWO,EAAKG,OAASH,EAAKI,QAAUV,IAAQW,YAAcX,IAAQK,SAC9HC,EAAKG,OAASH,EAAKI,SAAW,sBAAMX,UAAWC,IAAQS,MAAzB,SAAiCH,EAAKG,gBAQrF,gCACI,cAAC,IAAD,CAAOP,KAAK,aAAaU,UAAU,QAAQL,KAAK,aADpD,iBAYA,wBAAQA,KAAK,SAAb,oBA3CJ,IA2C0C,sBAAMR,UAAWC,IAAQS,MAAzB,SAAiChB,EAAMoB,SAAWpB,EAAMoB,SAAW,gBA8C3HC,EAAqBC,YACvBzB,EACAE,aAVoB,SAACN,GACrB,MAAQ,CACJ8B,gBAAiB9B,EAAME,UAAU4B,gBACjCC,UAAW/B,EAAME,UAAU6B,UAC3BJ,SAAU3B,EAAME,UAAUyB,YAML,CAAEK,WAAYC,MAFhBJ,EAhCT,SAACtB,GAUf,OACI,gCAEK2B,QAAQC,IAAI5B,GACZA,EAAMuB,gBAAkB,cAACM,EAAA,EAAD,IAAoB,cAAC,EAAD,CAAW1B,SAX/C,SAAC2B,GACd9B,EAAMyB,WAAWK,IAU+DV,SAAUpB,EAAMoB,iBAyBzFC","file":"static/js/5.530abba2.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"LoginPage_input__3szsd\",\"error_input\":\"LoginPage_error_input__3J6cr\",\"error\":\"LoginPage_error__1viwB\"};","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Redirect } from 'react-router-dom'\r\n\r\nconst mapStateToPropsRedirect = (state) => {\r\n    return ({\r\n        myId: state.loginForm.id\r\n    })\r\n}\r\n\r\n\r\n\r\n\r\nconst withLoginRedirect = (Component) => {\r\n\r\n    //debugger\r\n    const RedirectComponent = (props) => {\r\n\r\n        if (props.myId) {\r\n            return <Redirect to={'/profile/' + props.myId} />\r\n        } \r\n       \r\n        return (\r\n            <Component {...props} />\r\n            \r\n        )\r\n    }\r\n\r\n    \r\n    let ConnectedWithLoginRedirect = connect(mapStateToPropsRedirect,{})(RedirectComponent)\r\n\r\n    return ConnectedWithLoginRedirect\r\n    \r\n}\r\n\r\n\r\nexport default withLoginRedirect\r\n\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Form, Field } from 'react-final-form'\r\nimport { logInThunkCreator } from './../../../redux/login-reducer'\r\nimport LoaderProcess from './../../LoaderProcess/LoaderProcess'\r\nimport withLoginRedirect from './../../../hoc/withLoginRedirect'\r\nimport { compose } from 'redux';\r\nimport { required } from './../../../utils/validators'\r\nimport classes from './LoginPage.module.css'\r\n\r\n\r\nconst LoginForm = (props) => {\r\n\r\n\r\n\r\n    return (\r\n        <div >\r\n\r\n\r\n\r\n\r\n\r\n\r\n            <Form\r\n                onSubmit={props.onSubmit}\r\n                render={({ handleSubmit }) => (\r\n\r\n\r\n                    <form onSubmit={handleSubmit}>\r\n                        \r\n                        <h2>Login: </h2>\r\n                        <div>\r\n                            <Field className={classes.form_control} name=\"email\" validate={required} >\r\n                                {({ input, meta }) => (\r\n                                    <div>\r\n                                        \r\n                                        <input {...input} type=\"text\" placeholder=\"Login\" className={meta.error && meta.touched ? classes.error_input : classes.input} />\r\n                                        {meta.error && meta.touched && <span className={classes.error}>{meta.error}</span>}\r\n                                    </div>\r\n\r\n                                )\r\n                                \r\n                                }\r\n\r\n                            </Field>\r\n                        </div>\r\n                        <div>\r\n                            <Field name=\"password\"  validate={required} >\r\n                            {({ input, meta }) => (\r\n                                    <div>\r\n                                        <input {...input} placeholder=\"Password\" type=\"password\" className={meta.error && meta.touched ? classes.error_input : classes.input}/>\r\n                                        {meta.error && meta.touched && <span className={classes.error}>{meta.error}</span>}\r\n                                    </div>\r\n\r\n                                )\r\n                                \r\n                                }\r\n                            </Field>\r\n                        </div>\r\n                        <div>\r\n                            <Field name=\"rememberMe\" component=\"input\" type=\"Checkbox\" />\r\n                Remember me\r\n            </div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n                        <button type=\"submit\">Submit</button> <span className={classes.error}>{props.errorLog ? props.errorLog : null}</span>\r\n                    </form>\r\n\r\n\r\n                )}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\n\r\nconst LoginPage = (props) => {\r\n\r\n\r\n    const onSubmit = (data) => {\r\n        props.loginThunk(data)\r\n    }\r\n\r\n\r\n\r\n\r\n    return (\r\n        <div>\r\n\r\n            {console.log(props)}\r\n            {props.loginInProgress ? <LoaderProcess /> : <LoginForm onSubmit={onSubmit} errorLog={props.errorLog} />}\r\n\r\n\r\n\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\n\r\nconst mapPropsToState = (state) => {\r\n    return ({\r\n        loginInProgress: state.loginForm.loginInProgress,\r\n        isFetched: state.loginForm.isFetched,\r\n        errorLog: state.loginForm.errorLog\r\n    })\r\n}\r\n\r\nconst LoginPageContainer = compose(\r\n    withLoginRedirect,\r\n    connect(mapPropsToState, { loginThunk: logInThunkCreator })\r\n)(LoginPage)\r\n\r\n\r\n\r\nexport default LoginPageContainer\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"sourceRoot":""}